(()=>{"use strict";(()=>{class t{static el;static model;constructor(){this.el=t.el}use(e){return t.model=e.install,this}static create(){return new t}mount(e){Array.isArray(e)?e.forEach((e=>{t.el=e.el,t.model().exec()})):(t.el=e,t.model().exec())}}class e extends t{constructor(){super()}exec(){this.el.forEach((t=>{this.out(t)}))}out(t){setTimeout((()=>{t.classList.add("content")}),20)}static install(){return new e}}class n{constructor(t){this.el=t.el,this.text=this.el.innerHTML,this.textCount=t.textCount,this.findAllButtonText=t.findAllButtonText||"查看全文",this.ellipsisButtonText=t.ellipsisButtonText||"收起",this.showFindAllButton=t.showFindAllButton||!1,this.flag=!0,this.exec()}exec(){if(!this.text)throw new Errow("文本内容不能为空");this.el.innerHTML=this.format(this.text,this.textCount),this.showFindAllButton&&this.addButton()}get buttonText(){return this.flag?this.findAllButtonText:this.ellipsisButtonText}addButton(){let t=document.createElement("a");t.textContent=this.findAllButtonText,t.style.cssText="\n        color:blue;\n        cursor: pointer;";let e=this;t.addEventListener("click",(function(){e.flag=!e.flag,this.textContent=e.buttonText,e.el.childNodes[0].textContent=e.flag?e.format(e.text,e.textCount):e.text})),this.el.appendChild(t,this.el.childNodes[0])}format(t,e){return t.length<e?t:t.substring(0,e)+"..."}}function l(t){let e=document.createElement("div");return e.innerHTML=t,e.querySelector("template").innerHTML}const s=[{id:1,article:l('<template> <span class="title">天动万象𒆙</span> <span class="content"> 朋友，假使有一日不得不同你相别，你在我的记忆中也会如黄金般闪耀。 见证者，为见证而来。铭记者，因铭记而生。 旅程总有一天会迎来终点，不必匆忙。 此世群魔诸神并起，我虽无意逐鹿，却知苍生苦楚，只愿荡涤四方，护得浮世一隅。 一切力量皆有其代价,一千种权力伴随着一千种责任。 在你通向那个人的路上，也许会有更多困难，但只要你坚信这条路通往『正确』，一切就有意义。 我是人的神明,不论身份如何变化,都会以我这双眼睛见证属于人的历史。 我在心里数了他千万个缺点，却敌不过看他那一眼。 欲买桂花同载酒 只可惜故人 何日再见呢。 </span> </template>')},{id:2,article:l('<template> <span class="title">忽悠着你</span> <span class="content"> 美酒，微风……这样的时刻，总会让我忍不住想起……想起那首，从他那里听来的歌。 飞翔吧，飞翔吧。就像飞鸟那样。代我看看这个世界……带我飞到，高天之上。 我已经有过一次旅行。所以，你也要像我一样抵达终点，才能在自己的眼中，留下这个世界的沉淀。 我们终将重逢。 拉钩拉钩不许变，变了丢他去冰川。冰川冷，雪原寒，撒谎的舌头全冻烂！ 孩童时期的梦是最易碎的东西。哪怕放着不管，也总会有一天自己碎掉。 所以，一定要有人来保护才行吧？许下的承诺就该好好遵守，做错了事就该好好道歉。给予他的梦，就该好好呵护到最后……这才是身为家人该有的样子，就是这样。 那就说明，成为往生堂的堂主，一定是非常正确而且绝对不会留下遗憾的事。 轻盈的风，偶尔也会变得沉重。 几千年岁月的冲刷，哪怕是岩石……也会偶尔感到疲惫。 欲买桂花同载酒，只可惜故人……何日再见呢？ 看似不变的磐石、看似不变的世界与我……或许也会在某一天消失。所以，旅行者，我想到了你。 你是远渡重天、跨越星海之人。把历史刻在你的记忆里，就可以在未来某日，随你一同前往别的世界。 原来这就是你与我同行的理由，任重而道远啊。 璃月港的神迹，从此又少了一分。 谁也没有见过风，更别说我和你了。谁也没有见过爱情，直到有束花抛向了自己。 </span> </template>')},{id:3,article:l('<template> <span class="title">如何看待知乎上的男拳</span> <span class="content"> 我看女拳的时候感觉她们不是女的 我看男拳的时候也不觉得他们是男的 疯了 全都疯了 老实人在中间说一句话立马被揍得东倒西歪 满地找牙关键老实人还不知道做错了啥明 </span> </template>')},{id:4,article:l('<template> <span class="title">天动万象𒆙</span> <span class="content"> # helloworld ## 我是h2 我是 艺术大#师 ihxaxa ### 我是h3 #### 我是h4 ##### 我是h5 ###### 我是h6 ############# 我是黄果树瀑布f 我是小明 </span> </template>')},{id:5,article:l('<template> <span class="title">老苏的周记</span> <span class="content"> # 这周学了一些正则的语法 对正则的语法有了一些浅薄的了解。 明白了正则是用来匹配字符串的，以及一些正则不可以匹配的特殊字符也有了一些了解。 虽然有一些无理的要求不太会写，但是一些简单的匹配还是凑凑合合。 # 对于class类的应用场景和如何使用 知道了类中一个方法是一个逻辑。 明白了一些静态方法和属性的使用。 每个class都要有复用性，解耦和扩展性。 </span> </template>')}];String.prototype.ellipsis=function(t,e="..."){if(this.length>t){let n=this.substr(0,t);return n+=e,n}return this};let i,o,r,c,a=document.querySelector(".content_one"),u=document.querySelector(".main_content"),h=document.querySelector(".btn");function d(t){let e=document.createElement("div");return e.innerHTML=t,e}function p(){for(let l=2*(o-1);l<c;l++){let i=a.cloneNode(!0),o=d(s[l].article),r=i.querySelector(".content_text");i.insertBefore(o.querySelector(".title"),r),i.querySelector(".title").setAttribute("data-id",s[l].id),r.appendChild(o.querySelector(".content")),new n({el:r.querySelector(".content"),textCount:110,findAllText:"",showFindAllButton:!0}),u.insertBefore(i,document.querySelector(".btn")),t.create().use(e).mount(document.querySelectorAll(".content_one"));let c=document.querySelectorAll(".title");Array.from(c).forEach((t=>{t.addEventListener("click",(function(){window.location.href=`articleDetails.html?id=${this.dataset.id}`}))}))}}h.remove(),a.remove(),r=2,o=1,i=s.length%2==0?s.length/2:parseInt(s.length/2)+1,c=s.length<2?s.length:2,p(),u.appendChild(h),h.addEventListener("click",(function(){o++,o==i&&(h.style.display="none"),c=o==i&&s.length-2*(o-1)<2?s.length:2+2*(o-1),p()}))})()})();